CMAKE_MINIMUM_REQUIRED(VERSION 3.0)
SET(PRJ clisrv)
PROJECT(${PRJ})

INCLUDE_DIRECTORIES("/usr/local/include/")
INCLUDE_DIRECTORIES(("../.."))

SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -O0 -g -D__TEST__")
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O0 -g -D__TEST__")

SET(SOURCE_FILES
        ${SOURCE_FILES}
        client_server.cc
        )

ADD_EXECUTABLE(${PRJ} ${SOURCE_FILES})
TARGET_LINK_LIBRARIES(${PRJ} gtest gtest_main)
TARGET_LINK_LIBRARIES(${PRJ} pthread)
TARGET_LINK_LIBRARIES(${PRJ} smmr)

IF (UNIX AND NOT APPLE)
    TARGET_LINK_LIBRARIES(${PRJ} rt)
ENDIF()
